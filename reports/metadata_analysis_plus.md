# Comprehensive Metadata Analysis Report (PLUS)

Generated by `tools/analyze_metadata.py`

This consolidated report analyzes metadata coverage, quality, and filtering capabilities.

**Consolidates:**
- General metadata exploration (formerly `inspect_metadata.py`)
- Game-specific filtering analysis (formerly `analyze_game_metadata.py`)
- Label coverage analysis (formerly `report_label_statistics_built.py`)

---

**Total entries:** 1,295,010

---

## Frequency Tier Distribution

| Tier | Count | Percentage |
|------|------:|-----------:|
| rare | 1,250,810 | 96.6% |
| top10 | 9 | 0.0% |
| top100 | 85 | 0.0% |
| top10k | 6,640 | 0.5% |
| top1k | 458 | 0.0% |
| top25k | 13,933 | 1.1% |
| top300 | 184 | 0.0% |
| top3k | 1,869 | 0.1% |
| top500 | 189 | 0.0% |
| top50k | 20,833 | 1.6% |

### Sample Words by Tier

**Tier rare:** `copyists`, `apartment complexes`, `knee-band`, `hypohydrate`, `happy trails`  
**Tier top10:** `a`, `'t`, `that`, `the`, `i`  
**Tier top100:** `be`, `when`, `right`, `about`, `'ve`  
**Tier top10k:** `bronze`, `dj`, `earl`, `ops`, `resort`  
**Tier top1k:** `alright`, `pass`, `dream`, `sitting`, `s`  

---

## Source Distribution

### Individual Sources

| Source | Words |
|--------|------:|
| wikt | 1,286,108 |
| enable | 171,628 |
| eowl | 127,816 |

### Source Combinations

| Sources | Words |
|---------|------:|
| wikt | 1,088,152 |
| enable, eowl, wikt | 91,880 |
| enable, wikt | 74,098 |
| eowl, wikt | 31,978 |
| enable | 4,944 |
| eowl | 3,252 |
| enable, eowl | 706 |

---

## Label Coverage Analysis

**Label coverage summary:**

| Label Type | Entries with Label | Percentage |
|-----------|-------------------:|-----------:|
| Any labels | 137,917 | 10.6% |
| POS labels | 0 | 0.0% |
| Register labels | 36,348 | 2.8% |
| Domain labels | 46,578 | 3.6% |
| Region labels | 27,239 | 2.1% |
| Temporal labels | 71,349 | 5.5% |

### Register Labels

| Register | Count |
|----------|------:|
| slang | 13,590 |
| informal | 13,088 |
| colloquial | 4,700 |
| humorous | 2,762 |
| euphemistic | 937 |
| literary | 682 |
| formal | 589 |

### Domain Labels

| Domain | Count |
|--------|------:|
| medicine | 9,153 |
| computing | 6,478 |
| biology | 5,853 |
| chemistry | 5,764 |
| physics | 4,692 |
| military | 3,488 |
| mathematics | 3,189 |
| nautical | 3,157 |
| sports | 1,647 |
| law | 1,595 |
| aviation | 1,562 |

### Region Labels

| Region | Count |
|--------|------:|
| en-GB | 10,006 |
| en-US | 9,963 |
| en-AU | 2,206 |
| en-IE | 1,845 |
| en-IN | 1,710 |
| en-ZA | 789 |
| en-NZ | 658 |
| en-CA | 62 |

### Temporal Labels

| Temporal | Count |
|----------|------:|
| obsolete | 21,971 |
| rare | 15,342 |
| historical | 13,461 |
| archaic | 12,482 |
| dated | 8,093 |

---

## Game-Specific Metadata Analysis

This section analyzes metadata coverage for word game filtering needs.

### Field Coverage

**Total entries:** 1,295,010

| Field | Coverage | Percentage |
|-------|------:|----------:|
| POS tags | 1,276,376 | 98.6% |
| Concreteness | 91,721 | 7.1% |
| Frequency tier | 1,295,010 | 100.0% |
| Labels | 137,917 | 10.6% |
| Gloss | 0 | 0.0% |

### Noun Analysis

**Total nouns:** 928,186
**Concrete nouns:** 29,379
**Abstract nouns:** 31,788
**Mixed nouns:** 30,554
**Nouns without concreteness data:** 836,465

⚠️  **90.1%** of nouns lack concreteness metadata!

#### Concreteness Distribution

| Type | Count |
|------|------:|
| unknown | 836,465 |
| abstract | 31,788 |
| mixed | 30,554 |
| concrete | 29,379 |

#### Frequency Distribution (Nouns Only)

| Tier | Count |
|------|------:|
| top10 | 8 |
| top100 | 79 |
| top1k | 391 |
| top10k | 5,597 |
| top100k | 0 |
| rare | 892,345 |

---

## Sense-Based Format Analysis

### Current Limitations

The current format merges all senses of a word into a single entry:

**Issues:**
- Words with multiple POS (e.g., 'crow' as noun and verb) lose sense-specific metadata
- Regional variants (e.g., 'colour' vs 'color') are not linked
- Sense-specific labels (e.g., offensive meaning vs. neutral meaning) are conflated
- Downstream filtering cannot distinguish between word senses

**Statistics:**
- **89,098** words have multiple POS tags (potential for sense splitting)
- **23,671** words have regional labels

### Proposed Sense-Based Format

Each sense of a word becomes its own entry with a sense ID:

```
word    sense_id    metadata_fields
crow    crow.n.1    pos:noun|sem:animal|sem:bird|domain:zoology|concrete:yes|freq:top3k
crow    crow.n.2    pos:noun|sem:person|register:derogatory|register:offensive|temporal:historical
crow    crow.v.1    pos:verb|sem:sound|sem:vocalize|concrete:no|freq:top10k
mummy   mummy.n.1   pos:noun|sem:artifact|sem:corpse|domain:archaeology|concrete:yes
mummy   mummy.n.2   pos:noun|sem:person|sem:parent|register:informal|region:en-GB|freq:top5k
colour  colour.n.1  pos:noun|sem:attribute|sem:visual|region:en-GB|freq:top1k|variant:color
color   color.n.1   pos:noun|sem:attribute|sem:visual|region:en-US|freq:top1k|variant:colour
```

### Benefits

1. **Precise filtering:** Filter out offensive senses while keeping neutral ones
2. **Regional handling:** Link variant spellings, choose preferred region
3. **Semantic richness:** Add semantic tags (animal, person, sound, etc.)
4. **Game optimization:** Include only common senses, exclude rare technical senses
5. **Frequency per sense:** Different senses may have different frequencies

### Implementation Path

1. **Extract sense-level data from Wiktionary**
   - Current scanner merges all senses - needs modification
   - Parse each sense separately with its own labels, glosses, etc.

2. **Generate sense IDs**
   - Format: `{word}.{pos_abbrev}.{sense_num}`
   - Example: `crow.n.1`, `crow.v.1`
   - Handle multi-word phrases with URL encoding if needed

3. **Add semantic tags**
   - Extract from Wiktionary glosses using NLP
   - Use WordNet hypernyms (animal, person, object, etc.)
   - Manual curation for high-frequency words

4. **Link variants**
   - Track US/UK spelling pairs
   - Include `variant:` field pointing to alternate spellings

5. **Downstream processing**
   - Filters can target specific senses
   - Final word lists can collapse senses or keep them separate
   - Enables sophisticated game-specific word selection

### Example Filtering Queries

```bash
# Get only concrete nouns (any sense)
grep '|concrete:yes' senses.txt | cut -f1 | sort -u

# Get common words excluding offensive senses
grep '|freq:top' senses.txt | grep -v '|register:offensive' | cut -f1 | sort -u

# Get US-preferred spellings
grep '|region:en-US' senses.txt | cut -f1 | sort -u

# Get animal words
grep '|sem:animal' senses.txt | cut -f1 | sort -u
```

### Sample Multi-POS Words

Examples of words that would benefit from sense splitting:

- **'a**: noun, particle, preposition, pronoun, verb
- **'a'a**: noun, verb
- **'ad**: pronoun, verb
- **'am**: noun, particle, pronoun, verb
- **'arbour**: noun, verb
- **'at**: pronoun, verb
- **'cept**: conjunction, preposition
- **'cos**: adverb, conjunction
- **'d**: preposition, verb
- **'dis**: determiner, pronoun

---

## Filtering Recommendations

### 1. Improve Concreteness Detection

836,465 nouns lack concreteness data. Options:

- **Heuristic-based:** Infer from word endings, domains, etc.
- **ML-based:** Train classifier on known concrete/abstract words
- **External data:** Import from concreteness databases
- **Manual annotation:** Crowdsource or hire annotators

### 2. Domain-Based Filtering

Use domain labels to exclude:
- Adult content (sexuality, drugs, violence)
- Jargon (technical, specialized)
- Age-inappropriate (weapons, alcohol)

### 3. Frequency-Based Ranking

Prioritize common words (top10k tier) that people actually use:
- **Kids' games:** top1k to top10k
- **General games:** top100 to top100k
- **Expert games:** Include rare words

### 4. Regional Filtering

Use region labels to:
- Standardize on US English for US-market games
- Include both US/UK variants with preference marking
- Exclude region-specific slang if needed

### 5. Manual Review Process

Even with good filters, manual review is essential:
- Review top 500-1000 candidates
- Create whitelist of verified words
- Create blacklist of inappropriate words
- Use lists to train better filters

---

## Sample Rich Entries

These entries have extensive metadata (multiple sources, labels, glosses, etc.)

### `aa` (richness: 10)

```json
{
  "word": "aa",
  "pos": [
    "adjective",
    "adverb",
    "conjunction",
    "determiner",
    "interjection",
    "noun",
    "particle",
    "preposition",
    "pronoun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "dated",
      "historical"
    ],
    "domain": [
      "aviation",
      "chemistry",
      "law",
      "medicine",
      "military",
      "physics"
    ],
    "region": [
      "en-GB",
      "en-US"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top25k"
}
```

### `activate` (richness: 10)

```json
{
  "word": "activate",
  "pos": [
    "verb"
  ],
  "labels": {
    "domain": [
      "biology",
      "chemistry",
      "computing",
      "military",
      "physics",
      "sports"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "frequency_tier": "top10k"
}
```

### `bar` (richness: 10)

```json
{
  "word": "bar",
  "pos": [
    "adjective",
    "adverb",
    "determiner",
    "noun",
    "preposition",
    "pronoun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "obsolete"
    ],
    "domain": [
      "law",
      "mathematics",
      "military",
      "nautical",
      "physics",
      "sports"
    ],
    "region": [
      "en-GB",
      "en-US"
    ],
    "register": [
      "slang"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top1k"
}
```

### `delta` (richness: 10)

```json
{
  "word": "delta",
  "pos": [
    "adjective",
    "noun",
    "verb"
  ],
  "labels": {
    "domain": [
      "chemistry",
      "computing",
      "mathematics",
      "medicine",
      "military",
      "physics"
    ],
    "region": [
      "en-US"
    ],
    "register": [
      "informal"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top10k"
}
```

### `er` (richness: 10)

```json
{
  "word": "er",
  "pos": [
    "adjective",
    "adverb",
    "conjunction",
    "determiner",
    "interjection",
    "noun",
    "particle",
    "preposition",
    "pronoun",
    "verb"
  ],
  "labels": {
    "domain": [
      "biology",
      "computing",
      "medicine",
      "military",
      "physics",
      "sports"
    ],
    "region": [
      "en-GB",
      "en-US"
    ],
    "register": [
      "informal"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top3k"
}
```

### `flag` (richness: 10)

```json
{
  "word": "flag",
  "pos": [
    "noun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "archaic",
      "obsolete"
    ],
    "domain": [
      "aviation",
      "biology",
      "computing",
      "mathematics",
      "nautical",
      "sports"
    ],
    "region": [
      "en-GB"
    ],
    "register": [
      "slang"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top3k"
}
```

### `point` (richness: 10)

```json
{
  "word": "point",
  "pos": [
    "adverb",
    "noun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "archaic",
      "dated",
      "historical",
      "obsolete"
    ],
    "domain": [
      "computing",
      "mathematics",
      "medicine",
      "military",
      "nautical",
      "sports"
    ],
    "region": [
      "en-GB",
      "en-US"
    ],
    "register": [
      "informal",
      "slang"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top500"
}
```

### `port` (richness: 10)

```json
{
  "word": "port",
  "pos": [
    "adjective",
    "noun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "archaic",
      "historical"
    ],
    "domain": [
      "aviation",
      "computing",
      "law",
      "medicine",
      "military",
      "nautical"
    ],
    "region": [
      "en-US"
    ],
    "register": [
      "informal"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top10k"
}
```

### `ace` (richness: 9)

```json
{
  "word": "ace",
  "pos": [
    "adjective",
    "noun",
    "pronoun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "dated",
      "obsolete"
    ],
    "domain": [
      "computing",
      "medicine",
      "military",
      "physics",
      "sports"
    ],
    "region": [
      "en-GB",
      "en-US"
    ],
    "register": [
      "informal",
      "slang"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top10k"
}
```

### `ana` (richness: 9)

```json
{
  "word": "ana",
  "pos": [
    "adjective",
    "adverb",
    "conjunction",
    "determiner",
    "noun",
    "particle",
    "preposition",
    "pronoun",
    "verb"
  ],
  "labels": {
    "temporal": [
      "historical"
    ],
    "domain": [
      "aviation",
      "biology",
      "medicine",
      "military",
      "sports"
    ],
    "region": [
      "en-GB",
      "en-US"
    ]
  },
  "is_phrase": false,
  "lemma": null,
  "sources": [
    "enable",
    "eowl",
    "wikt"
  ],
  "concreteness": "mixed",
  "frequency_tier": "top10k"
}
```

